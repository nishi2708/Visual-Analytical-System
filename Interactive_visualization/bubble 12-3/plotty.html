<head>
  <!-- Numeric.js -->
  <script src="http://cdnjs.cloudflare.com/ajax/libs/numeric/1.2.6/numeric.min.js"></script>
  <!-- Plotly.js -->
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>

<body>
  
  <div id="myDiv" style="width: 1000px; height: 900px;"><!-- Plotly chart will be drawn inside this DIV --></div>
<script>

Plotly.d3.csv('UserData.csv', function(e, rows){
	function unpack(rows, key) {
			return rows.map(function(row) { return row[key]; });
	}
	
	function unpack2(rows, key) {
			return rows.map(function(row) { return ((row[key]/50)*360); });
	}

var Users = {
  r: unpack(rows, 'score'),
  t: unpack2(rows,'posts'),
  mode: 'markers',
  name: 'Users',
  marker: {
    color: 'rgb(27,158,119)',
    size: 100,
    line: {color: 'white'},
    opacity: 0.7
  },
  type: 'scatter'
};



var data = [Users];

var layout = {
  title: 'Users\' Reputation and participation',
  font: {size: 15},
  plot_bgcolor: 'rgb(223, 223, 223)',
  angularaxis: {
  	tickcolor: 'rgb(253,253,253)',
  	range:[0,50]
  },
  // width: 600, 
  // height: 600,
  autosize: true,
  margin: {
    l: 70,
    r: 70,
    b: 20,
    t: 40,
    pad: 0
  }
};

Plotly.plot('myDiv', data, layout);

//Hover
// var myPlot = document.getElementById('myDiv'),
//     hoverInfo = document.getElementById('hoverinfo'),
//     layout = {
//         hovermode:'closest',
//         title:'Hover on Points'
//      };


// myPlot.on('plotly_hover', function(data){
//     var infotext = data.points.map(function(d){
//       return (': Score= '+d.score+', y= '+d.posts);
//     });
//     hoverInfo.innerHTML = infotext.join('');
// })
//  .on('plotly_unhover', function(data){
//     hoverInfo.innerHTML = '';
// });
});
</script>
</body>